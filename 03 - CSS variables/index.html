<!doctype html>
<html lang="en-au" class="no-js">

  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Matilda eating 🍫🍦</title>
    <style>
      :root {
        --page-color: #d62e8d;
        --img-blur: 0;
        --img-invert: 0;
        --img-sepia: 0;
        --font-size-small: 0.9em;
      }

      *,
      *::before,
      *::after {
        box-sizing: border-box;
      }

      *:not(input) {
        border: 0;
        margin: 0;
        padding: 0;
      }

      html {
        background-color: var(--page-color);
        color: rgba(0, 0, 0, 0.8);
      }

      html,
      body {
        font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Helvetica Neue', sans-serif;
        line-height: 1.7;
      }

      @media (min-width: 70em) {
        html,
        body {
          height: 100vh;
        }
      }

      body {
        background-color: white;
        margin-left: auto;
        margin-right: auto;
        max-width: 90vw;
      }

      @supports (display: grid) {
        @media (min-width: 70em) {
          body {
            align-items: center;
            display: grid;
            grid-template-columns: 0 1fr 2fr;
            grid-gap: 2em;
            max-width: 70vw;
            overflow-y: hidden;
          }
        }
      }

      h1 {
        font-size: 2.2em;
        line-height: 1.3;
        margin-bottom: 0.3em;
      }

      p {
        font-size: var(--font-size-smal);
        margin-bottom: 3em;
      }

      body>div {
        padding: 2em;
      }

      @media (min-width: 70em) {
        body>div {
          grid-column: 2;
          padding: 0;
        }
      }

      fieldset {
        background-color: #faf9f9;
        outline: 0.3em solid rgba(223, 222, 222, 0.5);
        padding: 1em;
      }

      /* Hide visually */

      legend {
        clip: rect(1px, 1px, 1px, 1px);
        clip-path: polygon(0 0, 0 0, 0 0, 0 0);
        height: 1px;
        overflow: hidden;
        position: absolute;
        white-space: nowrap;
        width: 1px;
      }

      fieldset>div {
        align-items: center;
        display: flex;
      }

      fieldset>div:not(:last-child) {
        margin-bottom: 1em;
      }

      fieldset label {
        cursor: pointer;
        flex: 1;
        font-size: var(--font-size-smal);
        margin-right: 1em;
      }

      fieldset input {
        flex: 2;
      }

      img {
        display: block;
        filter: blur(var(--img-blur)) invert(var(--img-invert)) sepia(var(--img-sepia));
        height: auto;
        max-width: 100%;
        transition: filter 0.15s ease;
      }

      @media (min-width: 70em) {
        img {
          justify-self: right;
          max-height: 100vh;
        }
      }

      /* Hide/show elements based on JavaScript support */

      .no-js fieldset {
        display: none;
      }

      .js fieldset {
        display: block;
      }
    </style>
  </head>

  <body>
    <div>
      <h1>Matilda eating 🍫🍦</h1>
      <p>On holiday with Daddy and Kate in
        <a href="https://www.google.com.au/maps/place/The+Surin+Phuket/@7.981048,98.277681,15z/data=!4m2!3m1!1s0x0:0x4fca1f8fd01767e6?sa=X&ved=0ahUKEwii_6qp9aDXAhUGOJQKHTPpDGIQ_BIIdDAK">Thailand</a>,
        <time datetime="07-17">July 2017</time> 🏝 🌊.</p>
      <fieldset class="no-js">
        <legend>Apply filters to Matilda or change the background colour of the document</legend>
        <div>
          <label for="img-blur">Blur filter:</label>
          <input class="js-settings-control" id="img-blur" type="range" max="20" value="0" data-unit="px">
        </div>
        <div>
          <label for="img-invert">Invert filter:</label>
          <input class="js-settings-control" id="img-invert" type="range" max="100" step="1" value="0" data-unit="%">
        </div>
        <div>
          <label for="img-sepia">Sepia filter:</label>
          <input class="js-settings-control" id="img-sepia" type="range" max="100" step="1" value="0" data-unit="%">
        </div>
        <div>
          <label for="page-color">BG colour:</label>
          <input class="js-settings-control" id="page-color" type="color" value="#d62e8d">
        </div>
      </fieldset>
    </div>
    <img src="matilda.webp" alt="Picture of Matilda Pearce eating chocolate ice cream">

    <script>
      document.documentElement.classList.replace('no-js', 'js');
      const inputs = document.querySelectorAll('.js-settings-control');

      function editImage() {
        const unit = this.dataset.unit || '';
        document.documentElement.style.setProperty(`--${this.id}`, `${this.value}${unit}`)
      };

      inputs.forEach(item => {
        item.addEventListener(item.type === 'range' ? 'input' : 'change', editImage);
      });
    </script>

  </body>

</html>
